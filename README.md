## task 1/3 (решение комит ^ )

В этом задании продолжим работать с корзиной товаров. У вас уже есть список товаров в хранилище `store.cart.items`.

Вам нужно избавиться от хука `const [data, setData] = useState([]);` в файле для хранения списка товаров `products-container.js`. Все вызовы `setData` также следует удалить.

Для получения товаров воспользуйтесь `useSelector` и избавьтесь от `DataContext` в блоке `return` и импортах.

Из `useSelector` нужно получить ключ хранилища `items`, который содержит список товаров, и отрендерить товары из полученных данных. Не забудьте поменять `data` на `items` во всём компоненте `ProductsContainer`.

Затем необходимо убрать `useContext(DataContext)` из файла `product.js`. Для операций над товарами нужно воспользоваться экшенами, которые вы сделали ранее: `INCREASE_ITEM`, `DECREASE_ITEM`, `DELETE_ITEM`. Помните, что для всех этих операций нужно передавать `id` товара в экшене. Для отправки экшенов воспользуйтесь хуком `useDispatch` в компоненте `Product`. Замените содержимое функций `onDelete`, `decrease`, `increase` на отправку экшенов в Redux.

Вызовы `setTotalPrice` оставьте пока на своих местах в обновлённых функциях, а `DataContext` удалите из импортов.

Чтобы получить список товаров из Redux, воспользуйтесь хуком `useSelector` и передайте в него функцию получения данных из хранилища — `store => store.cart.items`. Для изменения количества товаров или удаления товара примените функцию `dispatch`, которую возвращает хук `useDispatch()`. Экшен нужно передавать с `id` товара, над которым производится действие, например:

```jsx
{
    type: DELETE_ITEM, id
}
```

## task 2/3

В предыдущем задании вы уже дали бой контексту. Продолжим наступление и перенесём вычисления общей цены товаров и результат применения скидки в Redux. В хранилище мы поместили информацию про уровень скидки и промокод. Эта информация приходит из контекста. Ваша задача — избавиться от использования `DiscountContext` и `TotalCostContext`. Для этого вам предстоит сделать такие шаги:

1. Удалите провайдеры и экземпляры контекстов из файла `app.js` — они больше не понадобятся.
2. В `total-price.js` уберите использование контекста и воспользуйтесь хуком `useSelector` для вычисления общей стоимости товаров, которые находятся в корзине. Получите список товаров по ключу `cart.items` и воспользуйтесь методом массивов `reduce`. Присвойте результат работы хука `useSelector` переменной `totalPrice`. Не забудьте, что у каждого товара есть количество, которое также следует учитывать при вычислении общей стоимости.
3. Присвойте результат работы ещё одного хука `useSelector` переменной `discount`. Она должна ссылаться на значение `promoDiscount` из ключа хранилища `cart`.
4. Убедитесь, что в файле `products-container.js` больше не используется контекст, а значение промокода и процент скидки берутся из Redux с помощью `useSelector`.
5. Замените использование `promo` из `useState` на `promoCode` из ключа хранилища `cart`.
6. Удалите хук `const [promo, setPromo] = useState('');` и все вызовы `setPromo` и `setDiscount`, в следующих заданиях мы вернём былую функциональность. Также полностью избавьтесь от хука `useEffect`, который устанавливает значение общей стоимости при изменении списка товаров.
7. В компоненте `Product` также удалите контекст: использование `DiscountContext` и `TotalCostContext` из файла `product.js`.
8. Важно сохранить в компоненте `Product` возможность отображать цену без скидки и цену со скидкой. Для этого воспользуйтесь значением `promoDiscount` из ключа хранилища `cart`. Тут снова потребуется хук `useSelector`. Результат работы хука присвойте прежней переменной — `discount`.
9. Осталась маленькая деталь — доделать компонент `PromoButton` в файле `ui/promo-button.js`. Сейчас этот компонент использует контекст, но поскольку мы везде от него избавились, то и здесь сделаем то же самое. Воспользуемся хуком `useDispatсh` и экшеном `CANCEL_PROMO` для сброса промокода. После этого нужно избавиться от `PromoContext` в приложении.

Наконец, убедитесь, что в приложении не осталось следов былого величия контекстов, разбросанных то тут, то там.

Чтобы высчитать общую стоимость товаров в корзине, воспользуйтесь методом массивов `reduce` внутри хука `useSelector`: `state => state.cart.items.reduce((acc, item) => acc + item.price * item.qty, 0)`.

Для сброса промокода передайте экшен `{ type: CANCEL_PROMO }` в функцию `dispatch`, которую возвращает хук `useDispatch`.

## task 3/3

В этом задании вам предстоит подключить логику переключения табов в корзине в React. Вот что нужно сделать:

1. Для начала разберёмся с экшеном `TAB_SWITCH`. Вам необходимо отправлять этот экшен при нажатии на табы в корзине. Для этого в файле `tab.js` воспользуйтесь хуком `useDispatch` и допишите функцию `switchTab` (заменив ей функцию `onClick`) так, чтобы её вызов отправлял экшен `{ type: TAB_SWITCH }`.
2. В файле `tabs.js` нужно получать информацию об активном табе из Redux-хранилища по ключу `cart.currentTab`. Для этого используйте хук `useSelector` и присвойте результат селектора переменной `currentTab`.
3. Также в файле `tabs.js` необходимо добавить булево значение в пропс `active` у элементов `<Tab />`. Получать это значение нужно, сравнивая `currentTab` и строку `"items"` для первого элемента `<Tab />` и строку `"postponed"` для второго элемента.
4. В файл `./cart/index.js` в компоненте `Cart`, как и в `tabs.js`, следует поместить значение `cart.currentTab` в переменную `currentTab`. Достать его нужно из Redux-хранилища. Для этого воспользуйтесь хуком `useSelector`.
5. Также в файле `./cart/index.js` необходимо применить условный рендеринг с помощью тернарного выражения: если `currentTab` равен `"items"`, то нужно рендерить компонент `<ProductsContainer />`, в противном случае — компонент `<Postponed />`. Допишите эту логику в блок `return` компонента `Cart`.

А чтобы установить пропс `active` в элементах `<Tab />` компонента `Tabs`, используйте выражение вида `currentTab === 'items'`
